<div class="container">
    <h2>Modifier l'événement</h2>
  
    <form (ngSubmit)="onSubmit()" #eventForm="ngForm" novalidate>
      <!-- Titre -->
      <div class="form-group">
        <label for="title">Titre</label>
        <input
          type="text"
          id="title"
          [(ngModel)]="event.title"
          name="title"
          class="form-control"
          required
          minlength="3"
        />
        <div *ngIf="eventForm.controls['title']?.invalid && eventForm.controls['title']?.touched" class="text-danger">
          <small *ngIf="eventForm.controls['title']?.errors?.['required']">Le titre est requis.</small>
          <small *ngIf="eventForm.controls['title']?.errors?.['minlength']">Le titre doit comporter au moins 3 caractères.</small>
        </div>
      </div>
  
      <!-- Description -->
      <div class="form-group">
        <label for="description">Description</label>
        <textarea
          id="description"
          [(ngModel)]="event.description"
          name="description"
          class="form-control"
          required
          minlength="10"
        ></textarea>
        <div *ngIf="eventForm.controls['description']?.invalid && eventForm.controls['description']?.touched" class="text-danger">
          <small *ngIf="eventForm.controls['description']?.errors?.['required']">La description est requise.</small>
          <small *ngIf="eventForm.controls['description']?.errors?.['minlength']">La description doit avoir au moins 10 caractères.</small>
        </div>
      </div>
  
      <!-- Type d'événement -->
      <div class="form-group">
        <label for="eventType">Type d'événement</label>
        <select
          id="eventType"
          [(ngModel)]="event.eventType"
          name="eventType"
          class="form-control"
          required
        >
          <option value="CONFERENCE">Conférence</option>
          <option value="WORKSHOP">Atelier</option>
          <option value="WEBINAR">Webinaire</option>
          <option value="HACKATHON">Hackathon</option>
          <option value="NETWORKING">Réseautage</option>
        </select>
        <div *ngIf="eventForm.controls['eventType']?.invalid && eventForm.controls['eventType']?.touched" class="text-danger">
          <small>Le type d'événement est requis.</small>
        </div>
      </div>
  
      <!-- Catégorie -->
      <div class="form-group">
        <label for="category">Catégorie</label>
        <input
          type="text"
          id="category"
          [(ngModel)]="event.category"
          name="category"
          class="form-control"
          required
        />
        <div *ngIf="eventForm.controls['category']?.invalid && eventForm.controls['category']?.touched" class="text-danger">
          <small>La catégorie est requise.</small>
        </div>
      </div>
  
      <!-- Statut -->
      <div class="form-group">
        <label for="status">Statut</label>
        <input
          type="text"
          id="status"
          [(ngModel)]="event.status"
          name="status"
          class="form-control"
          required
        />
        <div *ngIf="eventForm.controls['status']?.invalid && eventForm.controls['status']?.touched" class="text-danger">
          <small>Le statut est requis.</small>
        </div>
      </div>
  
      <!-- Date de début -->
      <div class="form-group">
        <label for="startDate">Date de début</label>
        <input
          type="datetime-local"
          id="startDate"
          [(ngModel)]="event.startDate"
          name="startDate"
          class="form-control"
          required
        />
        <div *ngIf="eventForm.controls['startDate']?.invalid && eventForm.controls['startDate']?.touched" class="text-danger">
          <small>La date de début est requise.</small>
        </div>
      </div>
  
      <!-- Date de fin -->
      <div class="form-group">
        <label for="endDate">Date de fin</label>
        <input
          type="datetime-local"
          id="endDate"
          [(ngModel)]="event.endDate"
          name="endDate"
          class="form-control"
          required
        />
        <div *ngIf="eventForm.controls['endDate']?.invalid && eventForm.controls['endDate']?.touched" class="text-danger">
          <small>La date de fin est requise.</small>
        </div>
      </div>
  
      <!-- Fuseau horaire -->
      <div class="form-group">
        <label for="timezone">Fuseau horaire</label>
        <input
          type="text"
          id="timezone"
          [(ngModel)]="event.timezone"
          name="timezone"
          class="form-control"
          required
        />
        <div *ngIf="eventForm.controls['timezone']?.invalid && eventForm.controls['timezone']?.touched" class="text-danger">
          <small>Le fuseau horaire est requis.</small>
        </div>
      </div>
  
      <!-- Lieu -->
      <div class="form-group">
        <label for="location">Lieu</label>
        <input
          type="text"
          id="location"
          [(ngModel)]="event.location"
          name="location"
          class="form-control"
          required
        />
        <div *ngIf="eventForm.controls['location']?.invalid && eventForm.controls['location']?.touched" class="text-danger">
          <small>Le lieu est requis.</small>
        </div>
      </div>
  
      <!-- Participants maximum -->
      <div class="form-group">
        <label for="maxAttendees">Participants maximum</label>
        <input
          type="number"
          id="maxAttendees"
          [(ngModel)]="event.maxAttendees"
          name="maxAttendees"
          class="form-control"
          required
          min="1"
          max="1000"
        />
        <div *ngIf="eventForm.controls['maxAttendees']?.invalid && eventForm.controls['maxAttendees']?.touched" class="text-danger">
          <small *ngIf="eventForm.controls['maxAttendees']?.errors?.['required']">Le nombre maximum de participants est requis.</small>
          <small *ngIf="eventForm.controls['maxAttendees']?.errors?.['min']">Le nombre doit être au moins 1.</small>
          <small *ngIf="eventForm.controls['maxAttendees']?.errors?.['max']">Le nombre ne peut pas dépasser 1000.</small>
        </div>
      </div>
  
      <!-- Lien de streaming en direct -->
      <div class="form-group">
        <label for="liveStreamingLink">Lien de streaming en direct</label>
        <input
          type="url"
          id="liveStreamingLink"
          [(ngModel)]="event.liveStreamingLink"
          name="liveStreamingLink"
          class="form-control"
        />
        <div *ngIf="eventForm.controls['liveStreamingLink']?.invalid && eventForm.controls['liveStreamingLink']?.touched" class="text-danger">
          <small>Veuillez saisir une URL valide.</small>
        </div>
      </div>
  
      <!-- Agenda IA généré -->
      <div class="form-check">
        <label for="aiGeneratedAgenda">Agenda IA généré</label>
        <input
          type="checkbox"
          id="aiGeneratedAgenda"
          [(ngModel)]="event.aiGeneratedAgenda"
          name="aiGeneratedAgenda"
          class="form-check-input"
        />
      </div>
  
      <!-- Chatbot activé -->
      <div class="form-check">
        <label for="chatbotEnabled">Chatbot activé</label>
        <input
          type="checkbox"
          id="chatbotEnabled"
          [(ngModel)]="event.chatbotEnabled"
          name="chatbotEnabled"
          class="form-check-input"
        />
      </div>
  
      <!-- Boutons -->
      <button type="submit" class="btn btn-primary" [disabled]="eventForm.invalid">
        Mettre à jour
      </button>
      <button type="button" (click)="resetForm()" class="btn btn-secondary">Réinitialiser</button>
      <a routerLink="/event" class="btn btn-secondary mt-3">Voir la liste des événements</a>
    </form>
  </div>