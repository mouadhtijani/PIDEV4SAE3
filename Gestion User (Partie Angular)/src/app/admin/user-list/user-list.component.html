<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div class="header">
    <label for="title" class="title">{{ status }} </label>
    <input type="text" [(ngModel)]="search_text" placeholder="Search ...">
    <i routerLink="/admin/dashboard/stat/user" class="fa fa-pie-chart" style="font-size: 28px;cursor: pointer;margin-left: 15px;color: gray;" ></i>
</div>
<div class="div" *ngIf="isStudent else SupervisorTable">
<br>
<select style="margin-left: 50%;" (change)="onSpecialityChange($event)">
    <option value="" disabled selected> Speciality</option>
    <option *ngFor="let specialty of listSpeciality" [value]="specialty">
        {{ specialty }}
    </option>
</select>
<select (change)="onLevelChange($event)">
    <option value="" disabled selected> Level</option>
    <option *ngFor="let level of listLevel" [value]="level">
        {{ level }}
    </option>
</select>
<select (change)="onClasseChange($event)">
    <option value="" disabled selected> Classe</option>
    <option *ngFor="let classe of listClasse" [value]="classe">
        {{ classe }}
    </option>
</select><br>
    <table class="table" >
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Level</th>
                <th scope="col">Classe</th>
                <th scope="col">Speciality</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of userList  |filter:search_text "  [routerLink]="'/admin/dashboard/all-user/'+user.userId" [queryParams]="{student: true}"  >
                <td>{{ user.firstName + ' ' + user.lastName }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.studentLevel }}</td>
                <td>{{ user.classeLevel }}</td>
                <td>{{ user.specialty }}</td>

            </tr>
        </tbody>
    </table>
</div>


<ng-template #SupervisorTable>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Company</th>
                <th scope="col">Domaine</th>
                <th scope="col">webSite</th>
                
                
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of userList  |filter:search_text "  [routerLink]="'/admin/dashboard/all-user/'+user.userId"   >
                <td>{{ user.firstName + ' ' + user.lastName }}</td>
                <td>{{ user.email}}</td>
                <td>{{ getUserCompany(user.userId)?.companyName }}</td>
                <td>{{ getUserCompany(user.userId)?.domaine }}</td>
                <td>{{ getUserCompany(user.userId)?.webSite }}</td>
            </tr>
        </tbody>
    </table>
</ng-template>
